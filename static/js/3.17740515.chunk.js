(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{423:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(144),l=a(0),r=a.n(l),o=a(13),s=a(17),i=function(e){return{isAuth:e.auth.isAuth}};function c(e){return Object(o.b)(i,{})((function(t){t.isAuth;var a=Object(n.a)(t,["isAuth"]);return t.isAuth?r.a.createElement(e,a):r.a.createElement(s.a,{to:"/login"})}))}},424:function(e,t,a){e.exports={posts:"MyPosts_posts__7q1fQ",newMessageForm:"MyPosts_newMessageForm__1ObLb",btn:"MyPosts_btn__1b897"}},425:function(e,t,a){e.exports={img:"Profile_img__3SLJJ",descriptionBlock:"Profile_descriptionBlock__nKAmJ",profile:"Profile_profile__2fFmz",avatar:"Profile_avatar__ViEDM",info:"Profile_info__2L1jS",full_name:"Profile_full_name__AP5Ay",about_me:"Profile_about_me__1Ez-V",status:"Profile_status__39XqI",ava_block:"Profile_ava_block__c9nRK",upload_ava:"Profile_upload_ava__3ERlo",ava_uploader:"Profile_ava_uploader__2qwat",ava_label:"Profile_ava_label__3sCNw",contact_title:"Profile_contact_title__3zmfu",contact_value:"Profile_contact_value__2xrLe",ava_image:"Profile_ava_image__aN_QQ",profile_data:"Profile_profile_data__1BCSN",activate_edit_btn:"Profile_activate_edit_btn__2XmCi",contact:"Profile_contact__foBOV"}},426:function(e,t,a){e.exports={post:"Post_post__Xby-l"}},427:function(e,t,a){e.exports=a.p+"static/media/add.4cf308a4.png"},428:function(e,t,a){e.exports=a.p+"static/media/edit.70454fa7.svg"},429:function(e,t,a){"use strict";a.r(t);var n=a(165),l=a(166),r=a(209),o=a(207),s=a(0),i=a.n(s),c=a(424),u=a.n(c),m=(a(75),a(426)),p=a.n(m),f=function(e){return i.a.createElement("div",{className:p.a.post},i.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/1352825/a5f8fbd7-515e-49f8-81d6-be55a2daac92/s600",alt:"post"}),e.message,i.a.createElement("br",null),i.a.createElement("span",null,"Like ",e.likesCount))},_=a(415),d=a(206),v=a(113),b=a(56),E=Object(v.a)(300),h=Object(d.a)({form:"posts"})((function(e){var t=e.handleSubmit;return i.a.createElement("form",{className:u.a.newMessageForm,onSubmit:t},Object(b.c)("Enter new post text..","newPost",[E],b.b,{type:"text"}),i.a.createElement(_.a,{type:"primary",onClick:t},"Add post"))})),g=i.a.memo((function(e){var t=e.postsData.map((function(t){return i.a.createElement(f,{key:e.postsData.length-t.id,message:t.string,likesCount:t.likesCount})}));return i.a.createElement("div",{className:u.a.posts},i.a.createElement("h3",{className:u.a.header},"My Posts"),i.a.createElement(h,{onSubmit:function(t){e.addPost(t.newPost)}}),t)})),P=a(163),O=a(13),k=Object(O.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:P.a.newPost})(g),y=a(162),j=a(205),N=a.n(j),A=a(425),S=a.n(A),M=a(78),w=function(e){var t=Object(s.useState)(!1),a=Object(y.a)(t,2),n=a[0],l=a[1],r=Object(s.useState)(e.status),o=Object(y.a)(r,2),c=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement(i.a.Fragment,null,!n&&i.a.createElement("div",null,i.a.createElement("span",{className:S.a.status,onClick:function(){e.isOwner&&l(!0)}},e.status||"Set status..")),n&&i.a.createElement("div",null,i.a.createElement("input",{autoFocus:!0,value:c,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){l(!1),e.updateStatus(c)}})))},F=Object(d.a)({form:"profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",null,i.a.createElement("b",null,"Full Name:"),Object(b.c)("Full Name","fullName",[],b.a,{type:"text"})),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job:"),Object(b.c)("","lookingForAJob",[],b.a,{type:"checkbox"})),i.a.createElement("div",null,i.a.createElement("b",null,"My skills:"),Object(b.c)("My skills","lookingForAJobDescription",[],b.b,{type:"text"})),i.a.createElement("div",null,i.a.createElement("b",null,"About me:"),Object(b.c)("About me","aboutMe",[],b.b,{type:"text"})),n&&i.a.createElement("div",null,i.a.createElement("span",null,n)),Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("b",null,e),Object(b.c)(e,"contacts."+e,[],b.a,{type:"text"}))})),i.a.createElement("div",null,i.a.createElement(_.a,{type:"primary",onClick:t},"Save")))})),x=a(427),C=a.n(x),J=a(428),D=a.n(J),I=function(e){var t,a,n=e.profile,l=e.status,r=e.isOwner,o=e.updateStatus,c=e.saveMainAvatar,u=e.saveProfile,m=Object(s.useState)(!1),p=Object(y.a)(m,2),f=p[0],_=p[1];return n?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:S.a.profile},i.a.createElement("div",{className:S.a.ava_block},i.a.createElement("div",{className:S.a.ava_image},i.a.createElement("img",{className:S.a.avatar,src:(null===(t=n.photos)||void 0===t?void 0:t.large)||(null===(a=n.photos)||void 0===a?void 0:a.small)||N.a,alt:"ava"}),r&&i.a.createElement("div",{className:S.a.ava_uploader},i.a.createElement("input",{className:S.a.upload_ava,onChange:function(e){e.target.files&&e.target.files.length&&c(e.target.files[0])},type:"file",id:"file"}),i.a.createElement("label",{className:S.a.ava_label,title:"Change and upload avatar",htmlFor:"file"},"Change avatar ",i.a.createElement("img",{src:C.a,alt:"addIcon",height:"20"}))))),i.a.createElement("div",{className:S.a.info},i.a.createElement("div",{className:S.a.full_name},n.fullName),i.a.createElement(w,{status:l,updateStatus:o,isOwner:r}),f?i.a.createElement(F,{onSubmit:function(e){u(e).then((function(){_(!1)}))},initialValues:n,profile:n}):i.a.createElement(L,{activateEditMode:function(){_(!0)},profile:n,isOwner:r})))):i.a.createElement(M.a,null)},L=function(e){var t=e.profile,a=e.isOwner,n=e.activateEditMode;return i.a.createElement("div",{className:S.a.profile_data},a&&i.a.createElement(_.a,{shape:"round",className:"".concat(S.a.activate_edit_btn),onClick:n},i.a.createElement("img",{width:20,src:D.a,alt:"editIcon"})),i.a.createElement("div",{className:S.a.about_me},i.a.createElement("b",null,"About me:")," ".concat(t.aboutMe)),i.a.createElement("div",{className:S.a.about_me},i.a.createElement("b",null,"My skills:")," ".concat(t.lookingForAJobDescription)),i.a.createElement("label",{className:S.a.about_me,htmlFor:"lookingForaJob"},i.a.createElement("b",null,"Looking for a Job")),i.a.createElement("input",{id:"lookingForaJob",type:"checkbox",readOnly:!0,checked:t.lookingForAJob}),Object.keys(t.contacts).map((function(e){return i.a.createElement(V,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))},V=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",{className:S.a.contact},i.a.createElement("div",{className:S.a.contact_title},"My ".concat(t,":")),i.a.createElement("div",{className:S.a.contact_value}," ".concat(a||"")))},z=function(e){var t=e.profile,a=e.status,n=e.updateStatus,l=e.isOwner,r=e.saveMainAvatar,o=e.saveProfile;return i.a.createElement("div",null,i.a.createElement(I,{isOwner:l,profile:t,status:a,updateStatus:n,saveMainAvatar:r,saveProfile:o}),i.a.createElement(k,null))},B=a(17),U=a(423),q=a(15),Q=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(z,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveMainAvatar:this.props.saveMainAvatar}))}}]),a}(i.a.Component);t.default=Object(q.d)(Object(O.b)((function(e){return{authorizedUserId:e.auth.id,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth}}),{getUserProfile:P.c,getStatus:P.b,updateStatus:P.g,saveMainAvatar:P.e,saveProfile:P.f}),B.h,U.a)(Q)}}]);
//# sourceMappingURL=3.17740515.chunk.js.map