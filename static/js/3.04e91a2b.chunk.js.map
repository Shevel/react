{"version":3,"sources":["components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileStatus/ProfileStatusHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["module","exports","Post","props","className","styles","post","src","alt","message","likesCount","maxLengthFiled300","maxLengthCreator","MyPosts","React","memo","postElements","postsData","map","key","length","id","string","console","log","posts","header","onSubmit","postData","addPost","newPost","PostForm","handleSubmit","newMessageForm","Field","name","component","Textarea","type","placeholder","validate","reduxForm","form","MyPostsContainer","connect","state","profilePage","dispatch","postMessage","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","autoFocus","value","onChange","event","currentTarget","onBlur","updateStatus","ProfileInfo","profile","s","photos","large","avatar","small","defaultAvatar","info","avatar__name","fullName","about","aboutMe","Preloader","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","getUserProfile","getStatus","Component","compose","auth","isAuth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.04e91a2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Profile_img__3EK6p\",\"descriptionBlock\":\"Profile_descriptionBlock__9OwsV\",\"profile\":\"Profile_profile__15vWC\",\"avatar\":\"Profile_avatar__3MgzR\",\"info\":\"Profile_info__2nWzm\",\"avatar__name\":\"Profile_avatar__name__2FAUn\",\"about\":\"Profile_about__1Crjc\",\"status\":\"Profile_status__2IMFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1vJq3\",\"newMessageForm\":\"MyPosts_newMessageForm__XA5x9\",\"header\":\"MyPosts_header__1KgIO\",\"btn\":\"MyPosts_btn__1f10X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2tBK-\"};","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nexport const Post = (props) => {\r\n  return (\r\n    <div className={styles.post}>\r\n      <img src='https://avatars.mds.yandex.net/get-pdb/1352825/a5f8fbd7-515e-49f8-81d6-be55a2daac92/s600' alt='post' />\r\n      {props.message}\r\n      <br />\r\n      <span>Like {props.likesCount}</span>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport styles from \"./MyPosts.module.css\";\r\nimport '../../../assets/styles/buttons.css';\r\nimport { Post } from \"./Post/Post\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator } from \"../../../utils/validators\";\r\nimport { Textarea } from \"../../common/FormControls/FormControls\";\r\n\r\nconst maxLengthFiled300 = maxLengthCreator(300);\r\n\r\nexport const MyPosts = React.memo(props => {\r\n  const postElements = props.postsData.map((post) => (\r\n    <Post\r\n      key={props.postsData.length - post.id}\r\n      message={post.string}\r\n      likesCount={post.likesCount}\r\n    />\r\n  ));\r\n\r\n  const onSubmitPost = (postData) => {\r\n    props.addPost(postData.newPost);\r\n  };\r\n  console.log('render!')\r\n  return (\r\n\r\n    <div className={styles.posts}>\r\n      <h3 className={styles.header}>My Posts</h3>\r\n      <PostForm onSubmit={onSubmitPost} />\r\n      {postElements}\r\n    </div>\r\n  );\r\n});\r\n\r\nlet PostForm = (props) => {\r\n  const { handleSubmit } = props;\r\n  return (\r\n    <form className={styles.newMessageForm} onSubmit={handleSubmit}>\r\n      <Field\r\n        name=\"newPost\"\r\n        component={Textarea}\r\n        type=\"text\"\r\n        placeholder=\"Enter new post text..\"\r\n        validate={[maxLengthFiled300]}\r\n      />\r\n      <button className='btn'>Add post</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nPostForm = reduxForm({ form: \"posts\" })(PostForm);\r\n","import { MyPosts } from \"./MyPosts\";\r\nimport { newPost } from \"../../../redux/profileReducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (postMessage) => {\r\n      dispatch(newPost(postMessage));\r\n    },\r\n  };\r\n};\r\n\r\nexport const MyPostsContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MyPosts);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"../Profile.module.css\";\r\n\r\nexport const ProfileStatusHooks = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n  const onStatusChange = (event) => {\r\n    setStatus(event.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!editMode && (\r\n        <div>\r\n          <span className={styles.status} onClick={activateEditMode}>\r\n            {props.status || \"Set status..\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            autoFocus\r\n            value={status}\r\n            onChange={onStatusChange}\r\n            onBlur={deactivateEditMode}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport defaultAvatar from '../../../assets/image/noavatar.jpg';\r\nimport s from '../Profile.module.css';\r\nimport { Preloader } from '../../common/Preloader/Preloader';\r\nimport { ProfileStatusHooks } from '../ProfileStatus/ProfileStatusHooks';\r\n\r\nexport const ProfileInfo = ({ profile, status, updateStatus }) => {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div>\r\n      <div className={s.profile}>\r\n        {\r\n          profile.photos.large ?\r\n            <img className={s.avatar} src={profile.photos.large} alt='ava' />\r\n            : profile.photos.small ?\r\n              <img className={s.avatar} src={profile.photos.small} alt='ava' />\r\n              : <img className={s.avatar} src={defaultAvatar} alt='ava' />\r\n        }\r\n        <div className={s.info}>\r\n          <p className={s.avatar__name}>{profile.fullName}</p>\r\n          <ProfileStatusHooks status={status} updateStatus={updateStatus} />\r\n          <p className={s.about}>{`About me:\"${profile.aboutMe}\"`}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { MyPostsContainer } from './MyPosts/MyPostsContainer';\r\nimport { ProfileInfo } from './ProfileInfo/ProfileInfo';\r\n\r\nexport const Profile = ({ profile, status, updateStatus }) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={profile} status={status} updateStatus={updateStatus} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { Profile } from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserProfile, getStatus, updateStatus } from \"../../redux/profileReducer\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return <Profile\r\n      {...this.props}\r\n      profile={this.props.profile}\r\n      status={this.props.status}\r\n      updateStatus={this.props.updateStatus}\r\n    />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authorizedUserId: state.auth.id,\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}