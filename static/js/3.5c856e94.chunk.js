(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{405:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(149),r=a(0),o=a.n(r),l=a(14),i=a(24),s=function(e){return{isAuth:e.auth.isAuth}};function c(e){return Object(l.b)(s,{})((function(t){t.isAuth;var a=Object(n.a)(t,["isAuth"]);return t.isAuth?o.a.createElement(e,a):o.a.createElement(i.a,{to:"/login"})}))}},406:function(e,t,a){e.exports={img:"Profile_img__2b16i",descriptionBlock:"Profile_descriptionBlock__1yh0b",profile:"Profile_profile__1AFSx",avatar:"Profile_avatar__M0hBG",info:"Profile_info__3hiuC",full_name:"Profile_full_name__1E5WF",about_me:"Profile_about_me__34LI6",status:"Profile_status__1WU2f",ava_block:"Profile_ava_block__1dEo2",upload_ava:"Profile_upload_ava__3qNXs",ava_uploader:"Profile_ava_uploader__2oz0C",ava_label:"Profile_ava_label__3s5bQ",contact_title:"Profile_contact_title__1psWs",contact_value:"Profile_contact_value__2qvgr",ava_image:"Profile_ava_image__3EZ5b",profile_data:"Profile_profile_data__FOsEB",activate_edit_btn:"Profile_activate_edit_btn__3o4so",contact:"Profile_contact__2_klI"}},407:function(e,t,a){e.exports={posts:"MyPosts_posts__3UGrz",newMessageForm:"MyPosts_newMessageForm__2-PnY",btn:"MyPosts_btn__2ptgn"}},408:function(e,t,a){e.exports={ProfileDataFormItem:"ProfileDataForm_ProfileDataFormItem__2MJ5C",LookingJob:"ProfileDataForm_LookingJob__1Pgd8",ProfileDataFormTextarea:"ProfileDataForm_ProfileDataFormTextarea__2LphY"}},409:function(e,t,a){e.exports={post:"Post_post__YI1OF"}},410:function(e,t,a){"use strict";a.r(t);var n=a(163),r=a(164),o=a(198),l=a(200),i=a(0),s=a.n(i),c=a(95),u=a(131),m=a(219),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},p=a(13),d=function(e,t){return i.createElement(p.a,Object.assign({},e,{ref:t,icon:f}))};d.displayName="FileAddOutlined";var _=i.forwardRef(d),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},b=function(e,t){return i.createElement(p.a,Object.assign({},e,{ref:t,icon:v}))};b.displayName="EditOutlined";var h=i.forwardRef(b),E=a(44),g=a(197),P=a(58),k=a(408),O=a.n(k),y=(a(90),Object(g.a)({form:"profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return s.a.createElement("form",{onSubmit:t},s.a.createElement("div",{className:O.a.ProfileDataFormItem},"Full Name:",Object(P.c)("Full Name","fullName",[],P.a,{type:"text"})),s.a.createElement("div",{className:O.a.LookingJob},"Looking for a job:",s.a.createElement("div",null,Object(P.c)("","lookingForAJob",[],P.a,{type:"checkbox"}))),s.a.createElement("div",{className:O.a.ProfileDataFormItem},"My skills:",Object(P.c)("My skills","lookingForAJobDescription",[],P.b,{type:"text",class:O.a.ProfileDataFormTextarea})),s.a.createElement("div",{className:O.a.ProfileDataFormItem},"About me:",Object(P.c)("About me","aboutMe",[],P.b,{type:"text",class:O.a.ProfileDataFormTextarea})),n&&s.a.createElement("div",null,s.a.createElement("span",null,n)),Object.keys(a.contacts).map((function(e){return s.a.createElement("div",{key:e,style:{margin:"5px 0"}},s.a.createElement("b",{style:{textTransform:"capitalize"}},e,":"),Object(P.c)(e,"contacts."+e,[],P.a,{type:"text"}))})),s.a.createElement("div",null,s.a.createElement(m.a,{style:{margin:"5px 0"},type:"primary",onClick:t},"Save")))}))),F=a(406),N=a.n(F),j=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(e.status),l=Object(c.a)(o,2),u=l[0],m=l[1];Object(i.useEffect)((function(){m(e.status)}),[e.status]);return s.a.createElement(s.a.Fragment,null,!n&&s.a.createElement("div",null,s.a.createElement("p",{className:N.a.status,onClick:function(){e.isOwner&&r(!0)}},e.status||"Set status..")),n&&s.a.createElement("div",null,s.a.createElement("input",{autoFocus:!0,value:u,onChange:function(e){m(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(u)}})))},M=a(114),x=a.n(M),A=function(e){var t,a,n=e.profile,r=e.status,o=e.isOwner,l=e.updateStatus,m=e.saveMainAvatar,f=e.saveProfile,p=Object(i.useState)(!1),d=Object(c.a)(p,2),v=d[0],b=d[1];return n?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:N.a.profile},s.a.createElement("div",{className:N.a.info},s.a.createElement("div",{className:N.a.full_name},n.fullName),s.a.createElement(j,{status:r,updateStatus:l,isOwner:o}),v?s.a.createElement(y,{onSubmit:function(e){f(e).then((function(){b(!1)}))},initialValues:n,profile:n}):s.a.createElement(S,{activateEditMode:function(){b(!0)},profile:n,isOwner:o})),s.a.createElement("div",{className:N.a.ava_block},s.a.createElement("div",{className:N.a.ava_image},s.a.createElement("img",{className:N.a.avatar,src:(null===(t=n.photos)||void 0===t?void 0:t.large)||(null===(a=n.photos)||void 0===a?void 0:a.small)||x.a,alt:"ava"}),o&&s.a.createElement("div",{className:N.a.ava_uploader},s.a.createElement("input",{className:N.a.upload_ava,onChange:function(e){e.target.files&&e.target.files.length&&m(e.target.files[0])},type:"file",id:"file"}),s.a.createElement(u.a,{placement:"bottom",title:"Change and upload avatar"},s.a.createElement("label",{className:N.a.ava_label,htmlFor:"file"},s.a.createElement(_,{style:{fontSize:"18px",color:"lightcyan",marginBottom:15}})))))))):s.a.createElement(E.g,null)},S=function(e){var t=e.profile,a=e.isOwner,n=e.activateEditMode;return s.a.createElement("div",{className:N.a.profile_data},a&&s.a.createElement(u.a,{placement:"left",title:"Edit"},s.a.createElement(m.a,{shape:"round",className:"".concat(N.a.activate_edit_btn),onClick:n,icon:s.a.createElement(h,null)})),t.aboutMe&&s.a.createElement("div",{className:N.a.about_me},s.a.createElement("b",null,"About me:"),s.a.createElement("i",null," ".concat(t.aboutMe))),"null"!==t.lookingForAJobDescription&&s.a.createElement("div",{className:N.a.about_me},s.a.createElement("b",null,"My skills:")," ".concat(t.lookingForAJobDescription)),s.a.createElement("label",{className:N.a.about_me,htmlFor:"lookingForaJob"},s.a.createElement("b",null,"Looking for a Job")),s.a.createElement("input",{id:"lookingForaJob",type:"checkbox",readOnly:!0,checked:t.lookingForAJob}),Object.keys(t.contacts).map((function(e){return s.a.createElement(w,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))},w=function(e){var t=e.contactTitle,a=e.contactValue;return a&&a.length?s.a.createElement("div",{className:N.a.contact},s.a.createElement("div",{className:N.a.contact_title},"".concat(t,":")),s.a.createElement("div",{className:N.a.contact_value}," ".concat(a))):s.a.createElement(s.a.Fragment,null)},D=a(409),C=a.n(D),I=function(e){return s.a.createElement("div",{className:C.a.post},s.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/1352825/a5f8fbd7-515e-49f8-81d6-be55a2daac92/s600",alt:"post"}),e.message,s.a.createElement("br",null),s.a.createElement("span",null,"Like ",e.likesCount))},J=a(116),L=a(407),z=a.n(L),B=Object(J.a)(300),T=Object(g.a)({form:"posts"})((function(e){var t=e.handleSubmit;return s.a.createElement("form",{className:z.a.newMessageForm,onSubmit:t},Object(P.c)("Enter new post text..","newPost",[B],P.b,{type:"text",rows:1}),s.a.createElement(m.a,{type:"primary",onClick:t},"Add post"))})),V=s.a.memo((function(e){var t=e.postsData.map((function(t){return s.a.createElement(I,{key:e.postsData.length-t.id,message:t.string,likesCount:t.likesCount})}));return s.a.createElement("div",{className:z.a.posts},s.a.createElement(T,{onSubmit:function(t){e.addPost(t.newPost)}}),t)})),U=a(159),H=a(14),W=Object(H.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:U.a.newPost})(V),Y=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.saveMainAvatar,l=e.saveProfile;return s.a.createElement("div",null,s.a.createElement(A,{isOwner:r,profile:t,status:a,updateStatus:n,saveMainAvatar:o,saveProfile:l}),s.a.createElement("hr",null),s.a.createElement(W,null))},q=a(24),G=a(405),R=a(25),Q=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(Y,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveMainAvatar:this.props.saveMainAvatar}))}}]),a}(s.a.Component);t.default=Object(R.d)(Object(H.b)((function(e){return{authorizedUserId:e.auth.id,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth}}),{getUserProfile:U.c,getStatus:U.b,updateStatus:U.g,saveMainAvatar:U.e,saveProfile:U.f}),q.h,G.a)(Q)}}]);
//# sourceMappingURL=3.5c856e94.chunk.js.map